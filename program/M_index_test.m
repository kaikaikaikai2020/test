clear
index_str = ['000001-上证综指,000002-上证A股,000003-上证B股,000004-上证工业,',...
    '000005-上证商业,000006-上证地产,000007-上证公用,000008-上证综合,000009-上证380,',...
    '000010-上证180,000011-上证基金,000012-上证国债,000013-上证企债,000015-上证红利,',...
    '000016-上证50,000020-上证中型企业,000090-上证流通,000132-上证100,000133-上证150,',...
    '000300-沪深300,000852-中证1000,000902-中证流通,000903-中证100,000904-中证200,',...
    '000905-中证500,000906-中证800,000907-中证700,000922-中证红利,399001-深证成指,',...
    '399002-深证深成指R,399004-深证100R,399005-深证中小板指,399006-创业板指,399007-深证300,',...
    '399008-中小300,399009-深证200,399010-深证700,399011-深证1000,399012-深证创业300,',...
    '399013-深市精选,399015-深证中小创新,399107-深证A指,399108-深证B指,399301-深信用债,',...
    '399302-深公司债,399306-深证ETF,399307-深证转债,399324-深证红利,399330-深证100,',...
    '399333-深证中小板R,399400-巨潮大中盘,399401-巨潮中小盘,399649-深证中小红利'];
temp = strsplit(index_str,',');
index_info = cellfun(@(x) strsplit(x,'-'),temp,'UniformOutput',false);
print_sel = true;
symbol_pool_all = cellfun(@(x) x{1},index_info,'UniformOutput',false);
symbol_pool_info = cellfun(@(x) x{2},index_info,'UniformOutput',false);
T_symbol_pool_all = length(symbol_pool_all);

for sel = 0:1
    if eq(sel,0)
        run_mod = 'm';
    else
        run_mod = 'f';
    end

    parfor i = 1:T_symbol_pool_all
        dos_str = sprintf('python M_TD_update1.py %s %s index',symbol_pool_all{i},run_mod);
        %sprintf(dos_str)
        dos(dos_str)
    end
end